const cityForm=document.querySelector("form"),card=document.querySelector(".card"),time=document.querySelector("img.time"),icon=document.querySelector(".icon img"),details=document.querySelector(".details"),updateUI=e=>{const t=e.cityDets,i=e.weather;details.innerHTML=`<div class="details">\n       <h5>${t.EnglishName}</h5>\n       \n       <div class="condition">${i.WeatherText}</div>\n       <div class="info">\n         <span>${i.Temperature.Metric.Value}</span>\n         <span>&deg;C</span>\n       </div>\n    </div>\n  `;const c=`img/icons/${i.WeatherIcon}.svg`;icon.setAttribute("src",c);let n=i.IsDayTime?"img/day.svg":"img/night.svg";time.setAttribute("src",n),card.classList.contains("d-none")&&card.classList.remove("d-none")},updateCity=async e=>{const t=await getCity(e);return{cityDets:t,weather:await getWeather(t.Key)}};cityForm.addEventListener("submit",e=>{e.preventDefault();const t=cityForm.city.value.trim();cityForm.reset(),updateCity(t).then(e=>updateUI(e)).then(e=>console.log(e)),localStorage.setItem("city",t)}),localStorage.getItem("city")&&updateCity(localStorage.getItem("city")).then(e=>updateUI(e)).catch(e=>console.log(e));
